{"ast":null,"code":"import { vModelCheckbox as _vModelCheckbox, createElementVNode as _createElementVNode, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelText as _vModelText } from \"vue\";\nconst _hoisted_1 = {\n  class: \"cart-table\"\n};\nconst _hoisted_2 = [\"onUpdate:modelValue\"];\nconst _hoisted_3 = [\"onUpdate:modelValue\"];\nconst _hoisted_4 = {\n  class: \"delete\"\n};\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = {\n  class: \"cart-footer\"\n};\nconst _hoisted_7 = {\n  class: \"flex items-center space-x-4\"\n};\nconst _hoisted_8 = {\n  class: \"total\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"table\", _hoisted_1, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"checkbox\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.selectAll = $event),\n    onChange: _cache[1] || (_cache[1] = (...args) => $options.toggleSelectAll && $options.toggleSelectAll(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelCheckbox, $data.selectAll]])]), _cache[2] || (_cache[2] = _createElementVNode(\"th\", null, \"商品名称\", -1 /* HOISTED */)), _cache[3] || (_cache[3] = _createElementVNode(\"th\", null, \"单价\", -1 /* HOISTED */)), _cache[4] || (_cache[4] = _createElementVNode(\"th\", null, \"数量\", -1 /* HOISTED */)), _cache[5] || (_cache[5] = _createElementVNode(\"th\", null, \"小计\", -1 /* HOISTED */)), _cache[6] || (_cache[6] = _createElementVNode(\"th\", null, \"操作\", -1 /* HOISTED */))])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.cart, item => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item.id\n    }, [_createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"checkbox\",\n      \"onUpdate:modelValue\": $event => item.selected = $event\n    }, null, 8 /* PROPS */, _hoisted_2), [[_vModelCheckbox, item.selected]])]), _createElementVNode(\"td\", null, _toDisplayString(item.name), 1 /* TEXT */), _createElementVNode(\"td\", null, \"¥\" + _toDisplayString(item.price.toFixed(2)), 1 /* TEXT */), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"number\",\n      min: \"1\",\n      \"onUpdate:modelValue\": $event => item.quantity = $event\n    }, null, 8 /* PROPS */, _hoisted_3), [[_vModelText, item.quantity, void 0, {\n      number: true\n    }]])]), _createElementVNode(\"td\", null, \"¥\" + _toDisplayString((item.price * item.quantity).toFixed(2)), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_4, [_createElementVNode(\"button\", {\n      class: \"btn btn-red\",\n      onClick: $event => $options.removeFromCart(item.id)\n    }, \" 删除 \", 8 /* PROPS */, _hoisted_5)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", null, \"共 \" + _toDisplayString($options.totalItems) + \" 件商品，已选择 \" + _toDisplayString($options.selectedItems) + \" 件\", 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"span\", _hoisted_8, \"总计：¥\" + _toDisplayString($options.total.toFixed(2)), 1 /* TEXT */), _cache[7] || (_cache[7] = _createElementVNode(\"button\", {\n    class: \"btn btn-blue\"\n  }, \"结算\", -1 /* HOISTED */))])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_createElementVNode","_hoisted_1","type","$data","selectAll","$event","onChange","_cache","args","$options","toggleSelectAll","_Fragment","_renderList","$props","cart","item","key","id","selected","_toDisplayString","name","price","toFixed","min","quantity","number","_hoisted_4","onClick","removeFromCart","_hoisted_5","_hoisted_6","totalItems","selectedItems","_hoisted_7","_hoisted_8","total"],"sources":["D:\\计算机\\谭\\mobile_sales\\src\\components\\ShoppingCart.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <table class=\"cart-table\">\r\n      <thead>\r\n      <tr>\r\n        <th>\r\n          <input type=\"checkbox\" v-model=\"selectAll\" @change=\"toggleSelectAll\" />\r\n        </th>\r\n        <th>商品名称</th>\r\n        <th>单价</th>\r\n        <th>数量</th>\r\n        <th>小计</th>\r\n        <th>操作</th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr v-for=\"item in cart\" :key=\"item.id\">\r\n        <td>\r\n          <input type=\"checkbox\" v-model=\"item.selected\" />\r\n        </td>\r\n        <td>{{ item.name }}</td>\r\n        <td>¥{{ item.price.toFixed(2) }}</td>\r\n        <td>\r\n          <input type=\"number\" min=\"1\" v-model.number=\"item.quantity\" />\r\n        </td>\r\n        <td>¥{{ (item.price * item.quantity).toFixed(2) }}</td>\r\n        <td class=\"delete\">\r\n          <button class=\"btn btn-red\" @click=\"removeFromCart(item.id)\">\r\n            删除\r\n          </button>\r\n        </td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <div class=\"cart-footer\">\r\n      <div>共 {{ totalItems }} 件商品，已选择 {{ selectedItems }} 件</div>\r\n      <div class=\"flex items-center space-x-4\">\r\n        <span class=\"total\">总计：¥{{ total.toFixed(2) }}</span>\r\n        <button class=\"btn btn-blue\">结算</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    cart: Array,\r\n  },\r\n  data() {\r\n    return {\r\n      selectAll: false,\r\n    };\r\n  },\r\n  watch: {\r\n    cart: {\r\n      handler() {\r\n        this.selectAll = this.cart.length > 0 && this.cart.every(item => item.selected);\r\n      },\r\n      deep: true,\r\n      immediate: true,\r\n    }\r\n  },\r\n  methods: {\r\n    toggleSelectAll() {\r\n      this.cart.forEach(item => {\r\n        item.selected = this.selectAll;\r\n      });\r\n    },\r\n    removeFromCart(id) {\r\n      this.$emit('remove', id);\r\n    }\r\n  },\r\n  computed: {\r\n    totalItems() {\r\n      return this.cart.length;\r\n    },\r\n    selectedItems() {\r\n      return this.cart.filter(item => item.selected).length;\r\n    },\r\n    total() {\r\n      return this.cart\r\n          .filter(item => item.selected)\r\n          .reduce((sum, item) => sum + item.price * item.quantity, 0);\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.delete button{\r\n  box-shadow: 0 0 1px black;\r\n  background: lightblue;\r\n  content: rgba(255,255,255,1);\r\n}\r\n</style>\r\n"],"mappings":";;EAEWA,KAAK,EAAC;AAAY;;;;EAwBjBA,KAAK,EAAC;AAAQ;;;EASjBA,KAAK,EAAC;AAAa;;EAEjBA,KAAK,EAAC;AAA6B;;EAChCA,KAAK,EAAC;AAAO;;uBArCzBC,mBAAA,CAyCM,cAxCJC,mBAAA,CA+BQ,SA/BRC,UA+BQ,GA9BND,mBAAA,CAWQ,gBAVRA,mBAAA,CASK,aARHA,mBAAA,CAEK,a,gBADHA,mBAAA,CAAuE;IAAhEE,IAAI,EAAC,UAAU;+DAAUC,KAAA,CAAAC,SAAS,GAAAC,MAAA;IAAGC,QAAM,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,eAAA,IAAAD,QAAA,CAAAC,eAAA,IAAAF,IAAA,CAAe;qEAAnCL,KAAA,CAAAC,SAAS,E,+BAE3CJ,mBAAA,CAAa,YAAT,MAAI,sB,0BACRA,mBAAA,CAAW,YAAP,IAAE,sB,0BACNA,mBAAA,CAAW,YAAP,IAAE,sB,0BACNA,mBAAA,CAAW,YAAP,IAAE,sB,0BACNA,mBAAA,CAAW,YAAP,IAAE,qB,KAGRA,mBAAA,CAiBQ,iB,kBAhBRD,mBAAA,CAeKY,SAAA,QAAAC,WAAA,CAfcC,MAAA,CAAAC,IAAI,EAAZC,IAAI;yBAAfhB,mBAAA,CAeK;MAfqBiB,GAAG,EAAED,IAAI,CAACE;QAClCjB,mBAAA,CAEK,a,gBADHA,mBAAA,CAAiD;MAA1CE,IAAI,EAAC,UAAU;uCAAUa,IAAI,CAACG,QAAQ,GAAAb;4DAAbU,IAAI,CAACG,QAAQ,E,KAE/ClB,mBAAA,CAAwB,YAAAmB,gBAAA,CAAjBJ,IAAI,CAACK,IAAI,kBAChBpB,mBAAA,CAAqC,YAAjC,GAAC,GAAAmB,gBAAA,CAAGJ,IAAI,CAACM,KAAK,CAACC,OAAO,qBAC1BtB,mBAAA,CAEK,a,gBADHA,mBAAA,CAA8D;MAAvDE,IAAI,EAAC,QAAQ;MAACqB,GAAG,EAAC,GAAG;uCAAiBR,IAAI,CAACS,QAAQ,GAAAnB;wDAAbU,IAAI,CAACS,QAAQ,E;MAArBC,MAAM,EAAd;IAA8B,E,MAE7DzB,mBAAA,CAAuD,YAAnD,GAAC,GAAAmB,gBAAA,EAAIJ,IAAI,CAACM,KAAK,GAAGN,IAAI,CAACS,QAAQ,EAAEF,OAAO,qBAC5CtB,mBAAA,CAIK,MAJL0B,UAIK,GAHH1B,mBAAA,CAES;MAFDF,KAAK,EAAC,aAAa;MAAE6B,OAAK,EAAAtB,MAAA,IAAEI,QAAA,CAAAmB,cAAc,CAACb,IAAI,CAACE,EAAE;OAAG,MAE7D,iBAAAY,UAAA,E;sCAMN7B,mBAAA,CAMM,OANN8B,UAMM,GALJ9B,mBAAA,CAA2D,aAAtD,IAAE,GAAAmB,gBAAA,CAAGV,QAAA,CAAAsB,UAAU,IAAG,WAAS,GAAAZ,gBAAA,CAAGV,QAAA,CAAAuB,aAAa,IAAG,IAAE,iBACrDhC,mBAAA,CAGM,OAHNiC,UAGM,GAFJjC,mBAAA,CAAqD,QAArDkC,UAAqD,EAAjC,MAAI,GAAAf,gBAAA,CAAGV,QAAA,CAAA0B,KAAK,CAACb,OAAO,qB,0BACxCtB,mBAAA,CAAwC;IAAhCF,KAAK,EAAC;EAAc,GAAC,IAAE,qB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}