{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Tabs = _resolveComponent(\"Tabs\");\n  const _component_ProductList = _resolveComponent(\"ProductList\");\n  const _component_Cart = _resolveComponent(\"Cart\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_Tabs, {\n    tabs: $setup.tabs,\n    currentTab: $setup.currentTab,\n    \"onUpdate:currentTab\": _cache[0] || (_cache[0] = $event => $setup.currentTab = $event)\n  }, null, 8 /* PROPS */, [\"tabs\", \"currentTab\"]), _createElementVNode(\"main\", _hoisted_1, [$setup.currentTab === 'products' ? (_openBlock(), _createBlock(_component_ProductList, {\n    key: 0,\n    products: $setup.products,\n    onAddToCart: $setup.handleAddToCart\n  }, null, 8 /* PROPS */, [\"products\", \"onAddToCart\"])) : (_openBlock(), _createBlock(_component_Cart, {\n    key: 1,\n    cart: $setup.cart,\n    onRemove: $setup.removeFromCart,\n    onCheckout: $setup.handleCheckout\n  }, null, 8 /* PROPS */, [\"cart\", \"onRemove\", \"onCheckout\"]))])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_createVNode","_component_Tabs","tabs","$setup","currentTab","$event","_createElementVNode","_hoisted_1","_createBlock","_component_ProductList","products","onAddToCart","handleAddToCart","_component_Cart","cart","onRemove","removeFromCart","onCheckout","handleCheckout"],"sources":["D:\\计算机\\谭\\mobile_sales\\src\\App.vue"],"sourcesContent":["<template>\n  <div>\n    <Tabs :tabs=\"tabs\" v-model:currentTab=\"currentTab\" />\n\n    <main class=\"container\">\n      <ProductList\n          v-if=\"currentTab === 'products'\"\n          :products=\"products\"\n          @add-to-cart=\"handleAddToCart\"\n      />\n      <Cart\n          v-else\n          :cart=\"cart\"\n          @remove=\"removeFromCart\"\n          @checkout=\"handleCheckout\"\n      />\n    </main>\n  </div>\n</template>\n\n<script>\nimport {ref} from 'vue';\nimport Tabs from './components/AppTabs.vue';\nimport ProductList from './components/ProductList.vue';\nimport Cart from './components/ShoppingCart.vue';\nimport {products as productList} from './data/products.js';\n\nexport default {\n  components: {Tabs, ProductList, Cart},\n  setup() {\n    const currentTab = ref('products');\n    const tabs = [\n      {id: 'products', name: '商品列表'},\n      {id: 'cart', name: '购物车'}\n    ];\n\n    const products = ref(productList);\n\n    const cart = ref([\n      {id: 1, name: '高端机械键盘 Cherry轴体', price: 899, quantity: 1, selected: false},\n      {id: 2, name: '无线蓝牙耳机 主动降噪', price: 1299, quantity: 2, selected: true}\n    ]);\n\n    const removeFromCart = (id) => {\n      const index = cart.value.findIndex(item => item.id === id);\n      if (index !== -1) cart.value.splice(index, 1);\n    };\n\n    const handleAddToCart = ({ product, quantity }) => {\n      const item = cart.value.find(i => i.id === product.id);\n      if (item) {\n        const maxAdd = product.stock - item.quantity;\n        const addQty = Math.min(quantity, maxAdd);\n        if (addQty > 0) {\n          item.quantity += addQty;\n          const prod = products.value.find(p => p.id === product.id);\n          if (prod) prod.stock -= addQty;\n\n          alert(`成功添加 ${addQty} 个 \"${product.name}\" 到购物车！`);\n        } else {\n          alert('该商品库存不足');\n        }\n      } else {\n        const addQty = Math.min(quantity, product.stock);\n        if (addQty > 0) {\n          cart.value.push({\n            id: product.id,\n            name: product.name,\n            price: product.price,\n            quantity: addQty,\n            selected: true,\n          });\n          const prod = products.value.find(p => p.id === product.id);\n          if (prod) prod.stock -= addQty;\n\n          alert(`成功添加 ${addQty} 个 \"${product.name}\" 到购物车！`);\n        } else {\n          alert('该商品库存不足');\n        }\n      }\n    };\n\n    // 结算处理\n    const handleCheckout = () => {\n      if (cart.value.length === 0) {\n        alert('购物车为空，无法结算');\n        return;\n      }\n      alert('结算成功，欢迎下次购物！');\n      cart.value = [];\n    };\n\n    return {\n      currentTab,\n      tabs,\n      products,\n      cart,\n      removeFromCart,\n      handleAddToCart,\n      handleCheckout,\n    };\n  }\n};\n</script>\n\n<style>\n@import './assets/styles.css';\n\ninput[type=\"number\"]::-webkit-inner-spin-button,\ninput[type=\"number\"]::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\ninput[type=\"number\"] {\n  -moz-appearance: textfield;\n}\n</style>\n"],"mappings":";;EAIUA,KAAK,EAAC;AAAW;;;;;uBAHzBC,mBAAA,CAgBM,cAfJC,YAAA,CAAqDC,eAAA;IAA9CC,IAAI,EAAEC,MAAA,CAAAD,IAAI;IAAUE,UAAU,EAAED,MAAA,CAAAC,UAAU;+DAAVD,MAAA,CAAAC,UAAU,GAAAC,MAAA;mDAEjDC,mBAAA,CAYO,QAZPC,UAYO,GAVKJ,MAAA,CAAAC,UAAU,mB,cADpBI,YAAA,CAIEC,sBAAA;;IAFGC,QAAQ,EAAEP,MAAA,CAAAO,QAAQ;IAClBC,WAAW,EAAER,MAAA,CAAAS;yEAElBJ,YAAA,CAKEK,eAAA;;IAHGC,IAAI,EAAEX,MAAA,CAAAW,IAAI;IACVC,QAAM,EAAEZ,MAAA,CAAAa,cAAc;IACtBC,UAAQ,EAAEd,MAAA,CAAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}