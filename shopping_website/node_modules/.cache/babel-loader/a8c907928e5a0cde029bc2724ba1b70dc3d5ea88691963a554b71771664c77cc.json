{"ast":null,"code":"/**\r\n * 统一API响应格式\r\n * @param {Object} response - axios响应对象\r\n * @returns {Array|Object} - 统一处理后的数据\r\n */\nexport function adaptApiResponse(response) {\n  // 如果已经是数组直接返回\n  if (Array.isArray(response)) return response;\n\n  // 处理常见API响应格式\n  if (response && response.data) {\n    // 格式1: { data: [...] }\n    if (Array.isArray(response.data)) return response.data;\n\n    // 格式2: { data: { items: [...] } }\n    if (response.data.items && Array.isArray(response.data.items)) {\n      return response.data.items;\n    }\n\n    // 格式3: { data: { data: [...] } }\n    if (response.data.data && Array.isArray(response.data.data)) {\n      return response.data.data;\n    }\n\n    // 其他格式直接返回data\n    return response.data;\n  }\n\n  // 无法识别的格式返回原始响应\n  return response;\n}","map":{"version":3,"names":["adaptApiResponse","response","Array","isArray","data","items"],"sources":["D:/计算机/谭/shopping_website/src/api/responseAdapter.js"],"sourcesContent":["/**\r\n * 统一API响应格式\r\n * @param {Object} response - axios响应对象\r\n * @returns {Array|Object} - 统一处理后的数据\r\n */\r\nexport function adaptApiResponse(response) {\r\n    // 如果已经是数组直接返回\r\n    if (Array.isArray(response)) return response\r\n\r\n    // 处理常见API响应格式\r\n    if (response && response.data) {\r\n        // 格式1: { data: [...] }\r\n        if (Array.isArray(response.data)) return response.data\r\n\r\n        // 格式2: { data: { items: [...] } }\r\n        if (response.data.items && Array.isArray(response.data.items)) {\r\n            return response.data.items\r\n        }\r\n\r\n        // 格式3: { data: { data: [...] } }\r\n        if (response.data.data && Array.isArray(response.data.data)) {\r\n            return response.data.data\r\n        }\r\n\r\n        // 其他格式直接返回data\r\n        return response.data\r\n    }\r\n\r\n    // 无法识别的格式返回原始响应\r\n    return response\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,gBAAgBA,CAACC,QAAQ,EAAE;EACvC;EACA,IAAIC,KAAK,CAACC,OAAO,CAACF,QAAQ,CAAC,EAAE,OAAOA,QAAQ;;EAE5C;EACA,IAAIA,QAAQ,IAAIA,QAAQ,CAACG,IAAI,EAAE;IAC3B;IACA,IAAIF,KAAK,CAACC,OAAO,CAACF,QAAQ,CAACG,IAAI,CAAC,EAAE,OAAOH,QAAQ,CAACG,IAAI;;IAEtD;IACA,IAAIH,QAAQ,CAACG,IAAI,CAACC,KAAK,IAAIH,KAAK,CAACC,OAAO,CAACF,QAAQ,CAACG,IAAI,CAACC,KAAK,CAAC,EAAE;MAC3D,OAAOJ,QAAQ,CAACG,IAAI,CAACC,KAAK;IAC9B;;IAEA;IACA,IAAIJ,QAAQ,CAACG,IAAI,CAACA,IAAI,IAAIF,KAAK,CAACC,OAAO,CAACF,QAAQ,CAACG,IAAI,CAACA,IAAI,CAAC,EAAE;MACzD,OAAOH,QAAQ,CAACG,IAAI,CAACA,IAAI;IAC7B;;IAEA;IACA,OAAOH,QAAQ,CAACG,IAAI;EACxB;;EAEA;EACA,OAAOH,QAAQ;AACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}