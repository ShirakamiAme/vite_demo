{"ast":null,"code":"import axios from './axios.js';\nexport async function getAllProducts() {\n  try {\n    const res = await axios.get('/products');\n\n    // 确保返回数据字段\n    if (res.data && res.data.data) {\n      return res.data.data; // 返回实际商品数组\n    }\n\n    // 兼容旧格式\n    return res.data;\n  } catch (error) {\n    console.error('获取商品失败:', error);\n    throw error; // 重新抛出以便上层处理\n  }\n}\nexport async function getProductById(id) {\n  try {\n    const res = await axios.get(`/products/${id}`);\n\n    // 确保返回数据字段\n    if (res.data && res.data.data) {\n      return res.data.data;\n    }\n    return res.data;\n  } catch (error) {\n    console.error(`获取商品 ${id} 失败:`, error);\n    throw error;\n  }\n}","map":{"version":3,"names":["axios","getAllProducts","res","get","data","error","console","getProductById","id"],"sources":["D:/计算机/谭/shopping_website/src/api/product.js"],"sourcesContent":["import axios from './axios.js'\r\n\r\nexport async function getAllProducts() {\r\n    try {\r\n        const res = await axios.get('/products');\r\n\r\n        // 确保返回数据字段\r\n        if (res.data && res.data.data) {\r\n            return res.data.data; // 返回实际商品数组\r\n        }\r\n\r\n        // 兼容旧格式\r\n        return res.data;\r\n    } catch (error) {\r\n        console.error('获取商品失败:', error);\r\n        throw error; // 重新抛出以便上层处理\r\n    }\r\n}\r\n\r\nexport async function getProductById(id) {\r\n    try {\r\n        const res = await axios.get(`/products/${id}`);\r\n\r\n        // 确保返回数据字段\r\n        if (res.data && res.data.data) {\r\n            return res.data.data;\r\n        }\r\n\r\n        return res.data;\r\n    } catch (error) {\r\n        console.error(`获取商品 ${id} 失败:`, error);\r\n        throw error;\r\n    }\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,YAAY;AAE9B,OAAO,eAAeC,cAAcA,CAAA,EAAG;EACnC,IAAI;IACA,MAAMC,GAAG,GAAG,MAAMF,KAAK,CAACG,GAAG,CAAC,WAAW,CAAC;;IAExC;IACA,IAAID,GAAG,CAACE,IAAI,IAAIF,GAAG,CAACE,IAAI,CAACA,IAAI,EAAE;MAC3B,OAAOF,GAAG,CAACE,IAAI,CAACA,IAAI,CAAC,CAAC;IAC1B;;IAEA;IACA,OAAOF,GAAG,CAACE,IAAI;EACnB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;IAC/B,MAAMA,KAAK,CAAC,CAAC;EACjB;AACJ;AAEA,OAAO,eAAeE,cAAcA,CAACC,EAAE,EAAE;EACrC,IAAI;IACA,MAAMN,GAAG,GAAG,MAAMF,KAAK,CAACG,GAAG,CAAC,aAAaK,EAAE,EAAE,CAAC;;IAE9C;IACA,IAAIN,GAAG,CAACE,IAAI,IAAIF,GAAG,CAACE,IAAI,CAACA,IAAI,EAAE;MAC3B,OAAOF,GAAG,CAACE,IAAI,CAACA,IAAI;IACxB;IAEA,OAAOF,GAAG,CAACE,IAAI;EACnB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,QAAQG,EAAE,MAAM,EAAEH,KAAK,CAAC;IACtC,MAAMA,KAAK;EACf;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}