{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport { ref, reactive, computed } from 'vue';\nimport '../assets/css/ShoppingCart.css';\nexport default {\n  __name: 'ShoppingCart',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const cartItems = reactive([{\n      id: 1,\n      name: \"有机绿萝盆栽\",\n      description: \"空气净化植物，适合室内摆放\",\n      image: \"https://images.unsplash.com/photo-1598880940080-ff9a29891b85?q=80&w=500\",\n      price: 68.00,\n      originalPrice: 88.00,\n      quantity: 1,\n      tags: [\"净化空气\", \"易养护\"],\n      selected: true\n    }, {\n      id: 2,\n      name: \"多肉植物组合\",\n      description: \"精选5种不同多肉植物组合\",\n      image: \"https://images.unsplash.com/photo-1598880940080-ff9a29891b85?q=80&w=500\",\n      price: 98.00,\n      quantity: 2,\n      tags: [\"桌面装饰\", \"组合套装\"],\n      selected: true\n    }, {\n      id: 3,\n      name: \"陶瓷花盆套装\",\n      description: \"现代简约设计，3件套\",\n      image: \"https://images.unsplash.com/photo-1551650975-87deedd944c3?q=80&w=500\",\n      price: 128.00,\n      quantity: 1,\n      tags: [\"陶瓷\", \"北欧风\"],\n      selected: true\n    }, {\n      id: 4,\n      name: \"自动浇水花盆\",\n      description: \"智能感应土壤湿度，自动浇水\",\n      image: \"https://images.unsplash.com/photo-1523348837708-15d4a09cfac2?q=80&w=500\",\n      price: 198.00,\n      originalPrice: 258.00,\n      quantity: 1,\n      tags: [\"智能\", \"懒人必备\"],\n      selected: true\n    }]);\n    const couponCode = ref(\"\");\n    const subtotal = computed(() => {\n      return cartItems.reduce((sum, item) => {\n        return item.selected ? sum + item.price * item.quantity : sum;\n      }, 0);\n    });\n    const shippingFee = computed(() => {\n      return subtotal.value > 200 ? 0 : 15;\n    });\n    const discount = computed(() => {\n      return subtotal.value * 0.1; // 10% 折扣\n    });\n    const total = computed(() => {\n      return subtotal.value + shippingFee.value - discount.value;\n    });\n\n    // 方法\n    const increaseQuantity = index => {\n      cartItems[index].quantity++;\n    };\n    const decreaseQuantity = index => {\n      if (cartItems[index].quantity > 1) {\n        cartItems[index].quantity--;\n      }\n    };\n    const removeItem = index => {\n      cartItems.splice(index, 1);\n    };\n    const addToCart = product => {\n      const existingItem = cartItems.find(item => item.id === product.id);\n      if (existingItem) {\n        existingItem.quantity++;\n      } else {\n        cartItems.push({\n          ...product,\n          quantity: 1,\n          selected: true\n        });\n      }\n      alert(`${product.name} 已加入购物车！`);\n    };\n    const proceedToCheckout = () => {\n      const selectedItems = cartItems.filter(item => item.selected);\n      if (selectedItems.length === 0) {\n        alert(\"请选择要购买的商品\");\n        return;\n      }\n      alert(`即将跳转到结算页面，总计 ¥${total.value.toFixed(2)}`);\n    };\n    const updateTotal = () => {};\n    const __returned__ = {\n      cartItems,\n      couponCode,\n      subtotal,\n      shippingFee,\n      discount,\n      total,\n      increaseQuantity,\n      decreaseQuantity,\n      removeItem,\n      addToCart,\n      proceedToCheckout,\n      updateTotal,\n      ref,\n      reactive,\n      computed\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","reactive","computed","cartItems","id","name","description","image","price","originalPrice","quantity","tags","selected","couponCode","subtotal","reduce","sum","item","shippingFee","value","discount","total","increaseQuantity","index","decreaseQuantity","removeItem","splice","addToCart","product","existingItem","find","push","alert","proceedToCheckout","selectedItems","filter","length","toFixed","updateTotal"],"sources":["D:/计算机/谭/shopping_website/src/views/ShoppingCart.vue"],"sourcesContent":["<template>\r\n  <div class=\"cart-container\">\r\n    <div class=\"cart-header\">\r\n      <h1 class=\"section-title\">我的购物车</h1>\r\n      <p class=\"cart-summary\">共 {{ cartItems.length }} 件商品</p>\r\n    </div>\r\n\r\n    <div class=\"cart-content\">\r\n      <div class=\"cart-items\">\r\n        <div class=\"cart-item\" v-for=\"(item, index) in cartItems\" :key=\"item.id\">\r\n          <div class=\"item-select\">\r\n            <input\r\n                type=\"checkbox\"\r\n                v-model=\"item.selected\"\r\n                @change=\"updateTotal\"\r\n                class=\"item-checkbox\"\r\n            >\r\n          </div>\r\n          <div class=\"item-image\">\r\n            <img :src=\"item.image\" :alt=\"item.name\" class=\"product-img\">\r\n          </div>\r\n          <div class=\"item-details\">\r\n            <h3 class=\"product-name\">{{ item.name }}</h3>\r\n            <p class=\"product-desc\">{{ item.description }}</p>\r\n            <div class=\"product-tags\">\r\n              <span class=\"tag\" v-for=\"tag in item.tags\" :key=\"tag\">{{ tag }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"item-price\">\r\n            <p class=\"price\">¥{{ item.price.toFixed(2) }}</p>\r\n            <p class=\"original-price\" v-if=\"item.originalPrice\">¥{{ item.originalPrice.toFixed(2) }}</p>\r\n          </div>\r\n          <div class=\"item-quantity\">\r\n            <button class=\"quantity-btn\" @click=\"decreaseQuantity(index)\" :disabled=\"item.quantity <= 1\">-</button>\r\n            <span class=\"quantity\">{{ item.quantity }}</span>\r\n            <button class=\"quantity-btn\" @click=\"increaseQuantity(index)\">+</button>\r\n          </div>\r\n          <div class=\"item-subtotal\">\r\n            <p class=\"subtotal\">¥{{ (item.price * item.quantity).toFixed(2) }}</p>\r\n          </div>\r\n          <div class=\"item-actions\">\r\n            <button class=\"action-btn favorite\">\r\n              <font-awesome-icon :icon=\"['fas', 'heart']\" />\r\n            </button>\r\n            <button class=\"action-btn delete\" @click=\"removeItem(index)\">\r\n              <font-awesome-icon :icon=\"['fas', 'trash']\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"cart-summary feathered-edge\">\r\n        <div class=\"summary-header\">\r\n          <h3>订单摘要</h3>\r\n        </div>\r\n        <div class=\"summary-content\">\r\n          <div class=\"summary-row\">\r\n            <span>商品小计</span>\r\n            <span>¥{{ subtotal.toFixed(2) }}</span>\r\n          </div>\r\n          <div class=\"summary-row\">\r\n            <span>运费</span>\r\n            <span>¥{{ shippingFee.toFixed(2) }}</span>\r\n          </div>\r\n          <div class=\"summary-row discount\">\r\n            <span>优惠</span>\r\n            <span>-¥{{ discount.toFixed(2) }}</span>\r\n          </div>\r\n          <div class=\"summary-divider\"></div>\r\n          <div class=\"summary-row total\">\r\n            <span>总计</span>\r\n            <span>¥{{ total.toFixed(2) }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"coupon-section\">\r\n          <input\r\n              type=\"text\"\r\n              placeholder=\"输入优惠码\"\r\n              v-model=\"couponCode\"\r\n              class=\"coupon-input\"\r\n          >\r\n          <button class=\"coupon-btn\">应用</button>\r\n        </div>\r\n        <button class=\"btn checkout-btn\" @click=\"proceedToCheckout\">\r\n          前往结账\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"recommended-section\">\r\n      <h2 class=\"section-title\">猜你喜欢</h2>\r\n      <div class=\"recommended-products\">\r\n        <div class=\"product-card\" v-for=\"product in recommendedProducts\" :key=\"product.id\">\r\n          <div class=\"product-image\">\r\n            <img :src=\"product.image\" :alt=\"product.name\" class=\"product-img\">\r\n            <div class=\"product-tag\" v-if=\"product.tag\">{{ product.tag }}</div>\r\n          </div>\r\n          <div class=\"product-info\">\r\n            <h3 class=\"product-name\">{{ product.name }}</h3>\r\n            <p class=\"product-price\">¥{{ product.price.toFixed(2) }}</p>\r\n            <button class=\"btn add-to-cart\" @click=\"addToCart(product)\">\r\n              <i class=\"icon icon-cart\"></i> 加入购物车\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, computed } from 'vue';\r\n\r\nimport '../assets/css/ShoppingCart.css'\r\n\r\nconst cartItems = reactive([\r\n  {\r\n    id: 1,\r\n    name: \"有机绿萝盆栽\",\r\n    description: \"空气净化植物，适合室内摆放\",\r\n    image: \"https://images.unsplash.com/photo-1598880940080-ff9a29891b85?q=80&w=500\",\r\n    price: 68.00,\r\n    originalPrice: 88.00,\r\n    quantity: 1,\r\n    tags: [\"净化空气\", \"易养护\"],\r\n    selected: true\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"多肉植物组合\",\r\n    description: \"精选5种不同多肉植物组合\",\r\n    image: \"https://images.unsplash.com/photo-1598880940080-ff9a29891b85?q=80&w=500\",\r\n    price: 98.00,\r\n    quantity: 2,\r\n    tags: [\"桌面装饰\", \"组合套装\"],\r\n    selected: true\r\n  },\r\n  {\r\n    id: 3,\r\n    name: \"陶瓷花盆套装\",\r\n    description: \"现代简约设计，3件套\",\r\n    image: \"https://images.unsplash.com/photo-1551650975-87deedd944c3?q=80&w=500\",\r\n    price: 128.00,\r\n    quantity: 1,\r\n    tags: [\"陶瓷\", \"北欧风\"],\r\n    selected: true\r\n  },\r\n  {\r\n    id: 4,\r\n    name: \"自动浇水花盆\",\r\n    description: \"智能感应土壤湿度，自动浇水\",\r\n    image: \"https://images.unsplash.com/photo-1523348837708-15d4a09cfac2?q=80&w=500\",\r\n    price: 198.00,\r\n    originalPrice: 258.00,\r\n    quantity: 1,\r\n    tags: [\"智能\", \"懒人必备\"],\r\n    selected: true\r\n  },\r\n]);\r\n\r\n\r\nconst couponCode = ref(\"\");\r\n\r\nconst subtotal = computed(() => {\r\n  return cartItems.reduce((sum, item) => {\r\n    return item.selected ? sum + (item.price * item.quantity) : sum;\r\n  }, 0);\r\n});\r\n\r\nconst shippingFee = computed(() => {\r\n  return subtotal.value > 200 ? 0 : 15;\r\n});\r\n\r\nconst discount = computed(() => {\r\n  return subtotal.value * 0.1; // 10% 折扣\r\n});\r\n\r\nconst total = computed(() => {\r\n  return subtotal.value + shippingFee.value - discount.value;\r\n});\r\n\r\n// 方法\r\nconst increaseQuantity = (index) => {\r\n  cartItems[index].quantity++;\r\n};\r\n\r\nconst decreaseQuantity = (index) => {\r\n  if (cartItems[index].quantity > 1) {\r\n    cartItems[index].quantity--;\r\n  }\r\n};\r\n\r\nconst removeItem = (index) => {\r\n  cartItems.splice(index, 1);\r\n};\r\n\r\nconst addToCart = (product) => {\r\n  const existingItem = cartItems.find(item => item.id === product.id);\r\n\r\n  if (existingItem) {\r\n    existingItem.quantity++;\r\n  } else {\r\n    cartItems.push({\r\n      ...product,\r\n      quantity: 1,\r\n      selected: true\r\n    });\r\n  }\r\n\r\n  alert(`${product.name} 已加入购物车！`);\r\n};\r\n\r\nconst proceedToCheckout = () => {\r\n  const selectedItems = cartItems.filter(item => item.selected);\r\n\r\n  if (selectedItems.length === 0) {\r\n    alert(\"请选择要购买的商品\");\r\n    return;\r\n  }\r\n\r\n  alert(`即将跳转到结算页面，总计 ¥${total.value.toFixed(2)}`);\r\n};\r\n\r\nconst updateTotal = () => {\r\n};\r\n</script>\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}